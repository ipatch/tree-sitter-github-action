{
  "$schema": "https://tree-sitter.github.io/tree-sitter/assets/schemas/grammar.schema.json",
  "name": "github_action",
  "rules": {
    "workflow_file": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "version"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "REPEAT1",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "workflow"
              },
              {
                "type": "SYMBOL",
                "name": "action"
              }
            ]
          }
        }
      ]
    },
    "version": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "version"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        }
      ]
    },
    "workflow": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "workflow"
        },
        {
          "type": "SYMBOL",
          "name": "string"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "on_kvp"
              },
              {
                "type": "SYMBOL",
                "name": "resolves_kvp"
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "on_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "on"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "event_string"
        }
      ]
    },
    "resolves_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "resolves"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "_string_or_array"
        }
      ]
    },
    "_string_or_array": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "string"
        },
        {
          "type": "SYMBOL",
          "name": "string_array"
        }
      ]
    },
    "string_array": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "string"
              },
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "action": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "action"
        },
        {
          "type": "SYMBOL",
          "name": "string"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "_action_kvps"
          }
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "_action_kvps": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "uses_kvp"
        },
        {
          "type": "SYMBOL",
          "name": "needs_kvp"
        },
        {
          "type": "SYMBOL",
          "name": "runs_kvp"
        },
        {
          "type": "SYMBOL",
          "name": "args_kvp"
        },
        {
          "type": "SYMBOL",
          "name": "env_kvp"
        },
        {
          "type": "SYMBOL",
          "name": "secrets_kvp"
        }
      ]
    },
    "uses_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "uses"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "docker_uses"
            },
            {
              "type": "SYMBOL",
              "name": "local_uses"
            },
            {
              "type": "SYMBOL",
              "name": "remote_uses"
            }
          ]
        }
      ]
    },
    "docker_uses": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\"docker://"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "docker_registry"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "docker_path_component"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "/"
              },
              {
                "type": "SYMBOL",
                "name": "docker_path_component"
              }
            ]
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "docker_tag"
                },
                {
                  "type": "SYMBOL",
                  "name": "docker_digest"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "\""
        }
      ]
    },
    "docker_registry": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "host_component"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "."
              },
              {
                "type": "SYMBOL",
                "name": "host_component"
              }
            ]
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": ":"
                },
                {
                  "type": "SYMBOL",
                  "name": "integer"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "docker_path_component": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "[a-zA-Z0-9]+"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "PATTERN",
            "value": "[._-][a-zA-Z0-9]+"
          }
        }
      ]
    },
    "docker_tag": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "PATTERN",
          "value": "a-zA-Z0-9_]+"
        }
      ]
    },
    "docker_digest": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "@"
        },
        {
          "type": "SYMBOL",
          "name": "_digest_algorithm"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "_hex"
        }
      ]
    },
    "_digest_algorithm": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "[A-Za-z]"
        },
        {
          "type": "PATTERN",
          "value": "[a-zA-Z0-9]*"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "PATTERN",
            "value": "[+.-_][A-Za-z][a-zA-Z0-9]*"
          }
        }
      ]
    },
    "host_component": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PATTERN",
          "value": "[a-zA-Z0-9]"
        },
        {
          "type": "PATTERN",
          "value": "[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]"
        }
      ]
    },
    "local_uses": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\"./"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "_safecodepoint"
          }
        },
        {
          "type": "STRING",
          "value": "\""
        }
      ]
    },
    "remote_uses": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\""
        },
        {
          "type": "SYMBOL",
          "name": "github_owner"
        },
        {
          "type": "STRING",
          "value": "/"
        },
        {
          "type": "SYMBOL",
          "name": "github_repo"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "/"
                },
                {
                  "type": "PATTERN",
                  "value": "[^\\\\\"]*"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "[\\/]*"
        },
        {
          "type": "STRING",
          "value": "@"
        },
        {
          "type": "PATTERN",
          "value": "[^\"]*"
        },
        {
          "type": "STRING",
          "value": "\""
        }
      ]
    },
    "github_owner": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "[a-zA-Z0-9]+"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "PATTERN",
              "value": "[a-zA-Z0-9\\-]*[a-zA-Z0-9]+"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "github_repo": {
      "type": "PATTERN",
      "value": "[a-zA-Z0-9\\-_.]+"
    },
    "needs_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "needs"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "_string_or_array"
        }
      ]
    },
    "runs_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "runs"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "_string_or_array"
        }
      ]
    },
    "args_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "args"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "_string_or_array"
        }
      ]
    },
    "env_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "env"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "env_var"
          }
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "env_var": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "identifier"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "secrets_kvp": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "secrets"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "identity_array"
        }
      ]
    },
    "identity_array": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "ALIAS",
                "content": {
                  "type": "SYMBOL",
                  "name": "_quoted_identifier"
                },
                "named": true,
                "value": "quoted_identifier"
              },
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "integer": {
      "type": "PATTERN",
      "value": "[0-9]+"
    },
    "_hex": {
      "type": "PATTERN",
      "value": "[0-9a-fA-F]+"
    },
    "identifier": {
      "type": "SYMBOL",
      "name": "_identifier"
    },
    "_identifier": {
      "type": "PATTERN",
      "value": "[a-zA-Z_-][\\sa-zA-Z0-9]*"
    },
    "event_string": {
      "type": "SYMBOL",
      "name": "_quoted_identifier"
    },
    "string": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_quoted_identifier"
        },
        {
          "type": "SYMBOL",
          "name": "_string"
        }
      ]
    },
    "_quoted_identifier": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\""
        },
        {
          "type": "SYMBOL",
          "name": "_identifier"
        },
        {
          "type": "STRING",
          "value": "\""
        }
      ]
    },
    "_string": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\""
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "_escape"
              },
              {
                "type": "SYMBOL",
                "name": "_safecodepoint"
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "\""
        }
      ]
    },
    "_escape": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\\"
        },
        {
          "type": "PATTERN",
          "value": "[\"\\\\/bfnrt]"
        }
      ]
    },
    "_safecodepoint": {
      "type": "PATTERN",
      "value": "[^\"\\\\\\u0000-\\u001F\\u007F]"
    },
    "comment": {
      "type": "TOKEN",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "#"
              },
              {
                "type": "PATTERN",
                "value": ".*"
              }
            ]
          },
          {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "//"
              },
              {
                "type": "PATTERN",
                "value": ".*"
              }
            ]
          }
        ]
      }
    }
  },
  "extras": [
    {
      "type": "SYMBOL",
      "name": "comment"
    },
    {
      "type": "PATTERN",
      "value": "\\s|\\\\\\n"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": []
}
